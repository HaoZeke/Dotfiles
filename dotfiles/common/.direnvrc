# Emacs Stuff (cross platform)
# Local Variables:
# mode: shell-script
# End:


##########
# Python #
##########

# Usage: layout virtualenv
#
# Use python virtualenv functions. Basic function composes well with the rest
#
# https://virtualenv.pypa.io/en/stable/
#

layout_virtualenv() {
  local venv_path="$1"
  source ${venv_path}/bin/activate
}

# Usage: layout virtualenvwrapper
#
# Use virtualenvwrapper. This is sort of depreciated.
#
# https://virtualenvwrapper.readthedocs.io/en/latest/
#

layout_virtualenvwrapper() {
  local venv_path="${WORKON_HOME}/$1"
  layout_virtualenv $venv_path
}

# Usage: layout pipenv
#
# Recommended python setup. Loads the relevant pipenv virtualwrapper.
#
# https://docs.pipenv.org/
#

layout_pipenv() {
    layout_virtualenv $(pipenv --venv)
}

######
# Go #
######

# Usage: layout golang
#
# Sets up environment for a Go project using the alternative gb build tool. Also
# works with the official dep package.In addition to project executables on
# PATH, this includes an exclusive, project- local GOPATH which enables many
# tools like gocode and oracle to "just work".
#
# http://getgb.io/
# https://golang.github.io/dep/
#

layout_golang() {
  export GOPATH="$PWD/vendor:$PWD"
  PATH_add "$PWD/vendor/bin"
  PATH_add bin
}
