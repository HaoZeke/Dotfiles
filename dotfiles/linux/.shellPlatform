###########################
# Linux platform defaults #
###########################

# Sublime Text
################

if command -v subl >/dev/null 2>&1; then
  if [[ ! -a "$HOME/.config/sublime-text-3/Packages/User/Package Control.sublime-settings" ]]; then
    if command -v aria2c >/dev/null 2>&1; then
      aria2c -j2 "https://packagecontrol.io/Package%20Control.sublime-package" -d=$HOME/.config/sublime-text-3/Packages/User/
    elif command -v wget >/dev/null 2>&1; then
      wget --trust-server-names -v -c "https://packagecontrol.io/Package%20Control.sublime-package" -P $HOME/.config/sublime-text-3/Packages/User/
    else
      ( cd $HOME/.config/sublime-text-3/Packages/User/; curl -L -J -O "https://packagecontrol.io/Package%20Control.sublime-package" --progress-bar)
    fi
  fi
fi


function getBrew() {
  if command -v brew >/dev/null 2>&1; then
    echo | sh -c "$(curl -fsSL https://raw.githubusercontent.com/Linuxbrew/install/master/install.sh)"
  fi
}


# Commands
###########

if [[ -d $HOME/.virtualenvs ]]; then
  export WORKON_HOME=~/.virtualenvs
  source /usr/bin/virtualenvwrapper_lazy.sh
else
  echo "You seem to be missing virtualenvs"
fi

if command -v direnv >/dev/null 2>&1; then
  eval "$(direnv hook zsh)"
else
  echo "You seem to be missing direnv"
fi

if command -v mmake >/dev/null 2>&1; then
  alias make=mmake
else
  echo "You seem to be missing mmake"
fi
